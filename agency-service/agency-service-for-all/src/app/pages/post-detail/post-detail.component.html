<div class="post-detail-container">
    <div *ngIf="isLoading" class="loading-container">
      <mat-spinner></mat-spinner>
    </div>
    
    <div *ngIf="error" class="error-container">
      <mat-icon color="warn">error</mat-icon>
      <p>{{error}}</p>
      <button mat-raised-button color="primary" routerLink="/">Back to Home</button>
    </div>
    
    <div *ngIf="post && !isLoading" class="post-content">
      <div class="post-header">
        <button mat-icon-button routerLink="/">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <h1>{{post.title}}</h1>
      </div>
      
      <div class="agency-info">
        <img [src]="post.agency.logoUrl" [alt]="post.agency.name" class="agency-logo">
        <div class="agency-details">
          <h3>{{post.agency.name}}</h3>
          <p>{{post.createdAt | date:'medium'}}</p>
        </div>
        <button mat-raised-button color="primary" [routerLink]="['/agency', post.agency.id]">
          View Agency
        </button>
      </div>
      
      <div class="post-image-container">
        <img [src]="post.imageUrl" [alt]="post.title" class="post-image">
      </div>
      
      <div class="post-body">
        <div class="post-category">
          <mat-chip-listbox>
            <mat-chip-option disabled>{{post.category}}</mat-chip-option>
          </mat-chip-listbox>
        </div>
        
        <div class="post-description">
          <p>{{post.description}}</p>
          <div [innerHTML]="post.content" class="post-content-html"></div>
        </div>
        
        <div class="post-actions">
          <button mat-button (click)="likePost()">
            <mat-icon>thumb_up</mat-icon> Like ({{post.likes}})
          </button>
          <button mat-button>
            <mat-icon>share</mat-icon> Share
          </button>
          <button mat-raised-button color="accent">
            <mat-icon>message</mat-icon> Contact Agency
          </button>
        </div>
      </div>
      
      <mat-divider></mat-divider>
      
      <app-comment-section [postId]="post.id"></app-comment-section>
    </div>
  </div>
  
  